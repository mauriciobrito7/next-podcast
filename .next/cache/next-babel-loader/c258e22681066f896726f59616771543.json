{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _JSXStyle from \"styled-jsx/style\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport \"isomorphic-fetch\"; // components\n\nimport Layout from \"../components/Layout\";\nimport PodcastList from \"../components/PodcastList\";\nimport PodcastPlayer from \"../components/PodcastPlayer\";\n\nvar _default = /*#__PURE__*/function (_React$Component) {\n  _inherits(_default, _React$Component);\n\n  function _default(props) {\n    var _this;\n\n    _classCallCheck(this, _default);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(_default).call(this, props));\n\n    _defineProperty(_assertThisInitialized(_this), \"openPodcast\", function (event, podcast) {\n      event.preventDefault();\n\n      _this.setState({\n        openPodcast: podcast\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"closePodcast\", function (event) {\n      event.preventDefault();\n\n      _this.setState({\n        openPodcast: null\n      });\n    });\n\n    state({\n      penPodcast: null\n    });\n    return _this;\n  }\n\n  _createClass(_default, [{\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n          channel = _this$props.channel,\n          audioClips = _this$props.audioClips,\n          series = _this$props.series;\n      var openPodcast = this.state;\n      return __jsx(Layout, {\n        title: channel.title\n      }, openPodcast && __jsx(\"div\", {\n        className: \"jsx-237087853\" + \" \" + \"modal\"\n      }, __jsx(PodcastPlayer, {\n        clip: openPodcast,\n        onClose: this.closePodcast\n      })), __jsx(\"h1\", {\n        className: \"jsx-237087853\"\n      }, channel.title), __jsx(\"h2\", {\n        className: \"jsx-237087853\"\n      }, \"Ultimos Podcasts\"), __jsx(PodcastList, {\n        podcasts: audioClips,\n        onclickPodcast: this.openPodcast\n      }), __jsx(\"h2\", {\n        className: \"jsx-237087853\"\n      }, \"Series\"), series.map(function (serie) {\n        return __jsx(\"div\", {\n          className: \"jsx-237087853\" + \" \" + \"series\"\n        }, serie.title);\n      }), __jsx(_JSXStyle, {\n        id: \"237087853\"\n      }, \".modal.jsx-237087853{position:fixed;background:black;top:0;left:0;right:0;bottom:0;z-index:9999;}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcTWF1cmljaW9cXERvY3VtZW50c1xcR2l0aHViXFxteUZpcnN0TmV4dEFwcFxccGFnZXNcXGNoYW5uZWwuanN4Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQWlFb0IsQUFHNEIsZUFDRSxpQkFDWCxNQUNDLE9BQ0MsUUFDQyxTQUNJLGFBQ2YiLCJmaWxlIjoiQzpcXFVzZXJzXFxNYXVyaWNpb1xcRG9jdW1lbnRzXFxHaXRodWJcXG15Rmlyc3ROZXh0QXBwXFxwYWdlc1xcY2hhbm5lbC5qc3giLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgXCJpc29tb3JwaGljLWZldGNoXCI7XHJcbi8vIGNvbXBvbmVudHNcclxuaW1wb3J0IExheW91dCBmcm9tIFwiLi4vY29tcG9uZW50cy9MYXlvdXRcIjtcclxuaW1wb3J0IFBvZGNhc3RMaXN0IGZyb20gXCIuLi9jb21wb25lbnRzL1BvZGNhc3RMaXN0XCI7XHJcbmltcG9ydCBQb2RjYXN0UGxheWVyIGZyb20gXCIuLi9jb21wb25lbnRzL1BvZGNhc3RQbGF5ZXJcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcclxuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xyXG4gICAgc3VwZXIocHJvcHMpO1xyXG4gICAgc3RhdGUoeyBwZW5Qb2RjYXN0OiBudWxsIH0pO1xyXG4gIH1cclxuXHJcbiAgc3RhdGljIGFzeW5jIGdldEluaXRpYWxQcm9wcyh7IHF1ZXJ5OiB7IGlkIH0gfSkge1xyXG4gICAgLy8gcnVuIGluIHBhcmFsbGVsXHJcbiAgICBsZXQgW3JlcUNoYW5uZWwsIHJlcVNlcmllcywgcmVxQXVkaW9zXSA9IGF3YWl0IFByb21pc2UuYWxsKFtcclxuICAgICAgZmV0Y2goYGh0dHBzOi8vYXBpLmF1ZGlvYm9vbS5jb20vY2hhbm5lbHMvJHtpZH1gKSxcclxuICAgICAgZmV0Y2goYGh0dHBzOi8vYXBpLmF1ZGlvYm9vbS5jb20vY2hhbm5lbHMvJHtpZH0vY2hpbGRfY2hhbm5lbHNgKSxcclxuICAgICAgZmV0Y2goYGh0dHBzOi8vYXBpLmF1ZGlvYm9vbS5jb20vY2hhbm5lbHMvJHtpZH0vYXVkaW9fY2xpcHNgKVxyXG4gICAgXSk7XHJcbiAgICBsZXQgZGF0YUNoYW5uZWwgPSBhd2FpdCByZXFDaGFubmVsLmpzb24oKTtcclxuICAgIGxldCBjaGFubmVsID0gZGF0YUNoYW5uZWwuYm9keS5jaGFubmVsO1xyXG5cclxuICAgIGxldCBkYXRhQXVkaW9zID0gYXdhaXQgcmVxQXVkaW9zLmpzb24oKTtcclxuICAgIGxldCBhdWRpb0NsaXBzID0gZGF0YUF1ZGlvcy5ib2R5LmF1ZGlvX2NsaXBzO1xyXG5cclxuICAgIGxldCBkYXRhU2VyaWVzID0gYXdhaXQgcmVxU2VyaWVzLmpzb24oKTtcclxuICAgIGxldCBzZXJpZXMgPSBkYXRhU2VyaWVzLmJvZHkuY2hhbm5lbHM7XHJcblxyXG4gICAgcmV0dXJuIHsgY2hhbm5lbCwgYXVkaW9DbGlwcywgc2VyaWVzIH07XHJcbiAgfVxyXG5cclxuICBvcGVuUG9kY2FzdCA9IChldmVudCwgcG9kY2FzdCkgPT4ge1xyXG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICBvcGVuUG9kY2FzdDogcG9kY2FzdFxyXG4gICAgfSk7XHJcbiAgfTtcclxuXHJcbiAgY2xvc2VQb2RjYXN0ID0gZXZlbnQgPT4ge1xyXG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICBvcGVuUG9kY2FzdDogbnVsbFxyXG4gICAgfSk7XHJcbiAgfTtcclxuXHJcbiAgcmVuZGVyKCkge1xyXG4gICAgY29uc3QgeyBjaGFubmVsLCBhdWRpb0NsaXBzLCBzZXJpZXMgfSA9IHRoaXMucHJvcHM7XHJcbiAgICBjb25zdCBvcGVuUG9kY2FzdCA9IHRoaXMuc3RhdGU7XHJcbiAgICByZXR1cm4gKFxyXG4gICAgICA8TGF5b3V0IHRpdGxlPXtjaGFubmVsLnRpdGxlfT5cclxuICAgICAgICB7b3BlblBvZGNhc3QgJiYgKFxyXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtb2RhbFwiPlxyXG4gICAgICAgICAgICA8UG9kY2FzdFBsYXllciBjbGlwPXtvcGVuUG9kY2FzdH0gb25DbG9zZT17dGhpcy5jbG9zZVBvZGNhc3R9IC8+XHJcbiAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICApfVxyXG5cclxuICAgICAgICA8aDE+e2NoYW5uZWwudGl0bGV9PC9oMT5cclxuXHJcbiAgICAgICAgPGgyPlVsdGltb3MgUG9kY2FzdHM8L2gyPlxyXG4gICAgICAgIDxQb2RjYXN0TGlzdCBwb2RjYXN0cz17YXVkaW9DbGlwc30gb25jbGlja1BvZGNhc3Q9e3RoaXMub3BlblBvZGNhc3R9IC8+XHJcblxyXG4gICAgICAgIDxoMj5TZXJpZXM8L2gyPlxyXG4gICAgICAgIHtzZXJpZXMubWFwKHNlcmllID0+IChcclxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic2VyaWVzXCI+e3NlcmllLnRpdGxlfTwvZGl2PlxyXG4gICAgICAgICkpfVxyXG4gICAgICAgIDxzdHlsZSBqc3g+e2BcclxuICAgICAgICAgIC5tb2RhbCB7XHJcbiAgICAgICAgICAgIHBvc2l0aW9uOiBmaXhlZDtcclxuICAgICAgICAgICAgYmFja2dyb3VuZDogYmxhY2s7XHJcbiAgICAgICAgICAgIHRvcDogMDtcclxuICAgICAgICAgICAgbGVmdDogMDtcclxuICAgICAgICAgICAgcmlnaHQ6IDA7XHJcbiAgICAgICAgICAgIGJvdHRvbTogMDtcclxuICAgICAgICAgICAgei1pbmRleDogOTk5OTtcclxuICAgICAgICAgIH1cclxuICAgICAgICBgfTwvc3R5bGU+XHJcbiAgICAgIDwvTGF5b3V0PlxyXG4gICAgKTtcclxuICB9XHJcbn1cclxuIl19 */\\n/*@ sourceURL=C:\\\\\\\\Users\\\\\\\\Mauricio\\\\\\\\Documents\\\\\\\\Github\\\\\\\\myFirstNextApp\\\\\\\\pages\\\\\\\\channel.jsx */\"));\n    }\n  }], [{\n    key: \"getInitialProps\",\n    value: function getInitialProps(_ref) {\n      var id, _ref2, _ref3, reqChannel, reqSeries, reqAudios, dataChannel, channel, dataAudios, audioClips, dataSeries, series;\n\n      return _regeneratorRuntime.async(function getInitialProps$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              id = _ref.query.id;\n              _context.next = 3;\n              return _regeneratorRuntime.awrap(Promise.all([fetch(\"https://api.audioboom.com/channels/\".concat(id)), fetch(\"https://api.audioboom.com/channels/\".concat(id, \"/child_channels\")), fetch(\"https://api.audioboom.com/channels/\".concat(id, \"/audio_clips\"))]));\n\n            case 3:\n              _ref2 = _context.sent;\n              _ref3 = _slicedToArray(_ref2, 3);\n              reqChannel = _ref3[0];\n              reqSeries = _ref3[1];\n              reqAudios = _ref3[2];\n              _context.next = 10;\n              return _regeneratorRuntime.awrap(reqChannel.json());\n\n            case 10:\n              dataChannel = _context.sent;\n              channel = dataChannel.body.channel;\n              _context.next = 14;\n              return _regeneratorRuntime.awrap(reqAudios.json());\n\n            case 14:\n              dataAudios = _context.sent;\n              audioClips = dataAudios.body.audio_clips;\n              _context.next = 18;\n              return _regeneratorRuntime.awrap(reqSeries.json());\n\n            case 18:\n              dataSeries = _context.sent;\n              series = dataSeries.body.channels;\n              return _context.abrupt(\"return\", {\n                channel: channel,\n                audioClips: audioClips,\n                series: series\n              });\n\n            case 21:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, null, null, null, Promise);\n    }\n  }]);\n\n  return _default;\n}(React.Component);\n\nexport { _default as default };","map":{"version":3,"sources":["C:/Users/Mauricio/Documents/Github/myFirstNextApp/pages/channel.jsx"],"names":["Layout","PodcastList","PodcastPlayer","props","event","podcast","preventDefault","setState","openPodcast","state","penPodcast","channel","audioClips","series","title","closePodcast","map","serie","id","query","Promise","all","fetch","reqChannel","reqSeries","reqAudios","json","dataChannel","body","dataAudios","audio_clips","dataSeries","channels","React","Component"],"mappings":";;;;;;;;;;;;AAAA,OAAO,kBAAP,C,CACA;;AACA,OAAOA,MAAP,MAAmB,sBAAnB;AACA,OAAOC,WAAP,MAAwB,2BAAxB;AACA,OAAOC,aAAP,MAA0B,6BAA1B;;;;;AAGE,oBAAYC,KAAZ,EAAmB;AAAA;;AAAA;;AACjB,kFAAMA,KAAN;;AADiB,kEAwBL,UAACC,KAAD,EAAQC,OAAR,EAAoB;AAChCD,MAAAA,KAAK,CAACE,cAAN;;AACA,YAAKC,QAAL,CAAc;AACZC,QAAAA,WAAW,EAAEH;AADD,OAAd;AAGD,KA7BkB;;AAAA,mEA+BJ,UAAAD,KAAK,EAAI;AACtBA,MAAAA,KAAK,CAACE,cAAN;;AACA,YAAKC,QAAL,CAAc;AACZC,QAAAA,WAAW,EAAE;AADD,OAAd;AAGD,KApCkB;;AAEjBC,IAAAA,KAAK,CAAC;AAAEC,MAAAA,UAAU,EAAE;AAAd,KAAD,CAAL;AAFiB;AAGlB;;;;6BAmCQ;AAAA,wBACiC,KAAKP,KADtC;AAAA,UACCQ,OADD,eACCA,OADD;AAAA,UACUC,UADV,eACUA,UADV;AAAA,UACsBC,MADtB,eACsBA,MADtB;AAEP,UAAML,WAAW,GAAG,KAAKC,KAAzB;AACA,aACE,MAAC,MAAD;AAAQ,QAAA,KAAK,EAAEE,OAAO,CAACG;AAAvB,SACGN,WAAW,IACV;AAAA,2CAAe;AAAf,SACE,MAAC,aAAD;AAAe,QAAA,IAAI,EAAEA,WAArB;AAAkC,QAAA,OAAO,EAAE,KAAKO;AAAhD,QADF,CAFJ,EAOE;AAAA;AAAA,SAAKJ,OAAO,CAACG,KAAb,CAPF,EASE;AAAA;AAAA,4BATF,EAUE,MAAC,WAAD;AAAa,QAAA,QAAQ,EAAEF,UAAvB;AAAmC,QAAA,cAAc,EAAE,KAAKJ;AAAxD,QAVF,EAYE;AAAA;AAAA,kBAZF,EAaGK,MAAM,CAACG,GAAP,CAAW,UAAAC,KAAK;AAAA,eACf;AAAA,6CAAe;AAAf,WAAyBA,KAAK,CAACH,KAA/B,CADe;AAAA,OAAhB,CAbH;AAAA;AAAA,ktHADF;AA8BD;;;;;;;;;;AAlEuCI,cAAAA,E,QAATC,K,CAASD,E;;+CAESE,OAAO,CAACC,GAAR,CAAY,CACzDC,KAAK,8CAAuCJ,EAAvC,EADoD,EAEzDI,KAAK,8CAAuCJ,EAAvC,qBAFoD,EAGzDI,KAAK,8CAAuCJ,EAAvC,kBAHoD,CAAZ,C;;;;;AAA1CK,cAAAA,U;AAAYC,cAAAA,S;AAAWC,cAAAA,S;;+CAKJF,UAAU,CAACG,IAAX,E;;;AAApBC,cAAAA,W;AACAhB,cAAAA,O,GAAUgB,WAAW,CAACC,IAAZ,CAAiBjB,O;;+CAERc,SAAS,CAACC,IAAV,E;;;AAAnBG,cAAAA,U;AACAjB,cAAAA,U,GAAaiB,UAAU,CAACD,IAAX,CAAgBE,W;;+CAEVN,SAAS,CAACE,IAAV,E;;;AAAnBK,cAAAA,U;AACAlB,cAAAA,M,GAASkB,UAAU,CAACH,IAAX,CAAgBI,Q;+CAEtB;AAAErB,gBAAAA,OAAO,EAAPA,OAAF;AAAWC,gBAAAA,UAAU,EAAVA,UAAX;AAAuBC,gBAAAA,MAAM,EAANA;AAAvB,e;;;;;;;;;;;;EAtBkBoB,KAAK,CAACC,S","sourcesContent":["import \"isomorphic-fetch\";\r\n// components\r\nimport Layout from \"../components/Layout\";\r\nimport PodcastList from \"../components/PodcastList\";\r\nimport PodcastPlayer from \"../components/PodcastPlayer\";\r\n\r\nexport default class extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    state({ penPodcast: null });\r\n  }\r\n\r\n  static async getInitialProps({ query: { id } }) {\r\n    // run in parallel\r\n    let [reqChannel, reqSeries, reqAudios] = await Promise.all([\r\n      fetch(`https://api.audioboom.com/channels/${id}`),\r\n      fetch(`https://api.audioboom.com/channels/${id}/child_channels`),\r\n      fetch(`https://api.audioboom.com/channels/${id}/audio_clips`)\r\n    ]);\r\n    let dataChannel = await reqChannel.json();\r\n    let channel = dataChannel.body.channel;\r\n\r\n    let dataAudios = await reqAudios.json();\r\n    let audioClips = dataAudios.body.audio_clips;\r\n\r\n    let dataSeries = await reqSeries.json();\r\n    let series = dataSeries.body.channels;\r\n\r\n    return { channel, audioClips, series };\r\n  }\r\n\r\n  openPodcast = (event, podcast) => {\r\n    event.preventDefault();\r\n    this.setState({\r\n      openPodcast: podcast\r\n    });\r\n  };\r\n\r\n  closePodcast = event => {\r\n    event.preventDefault();\r\n    this.setState({\r\n      openPodcast: null\r\n    });\r\n  };\r\n\r\n  render() {\r\n    const { channel, audioClips, series } = this.props;\r\n    const openPodcast = this.state;\r\n    return (\r\n      <Layout title={channel.title}>\r\n        {openPodcast && (\r\n          <div className=\"modal\">\r\n            <PodcastPlayer clip={openPodcast} onClose={this.closePodcast} />\r\n          </div>\r\n        )}\r\n\r\n        <h1>{channel.title}</h1>\r\n\r\n        <h2>Ultimos Podcasts</h2>\r\n        <PodcastList podcasts={audioClips} onclickPodcast={this.openPodcast} />\r\n\r\n        <h2>Series</h2>\r\n        {series.map(serie => (\r\n          <div className=\"series\">{serie.title}</div>\r\n        ))}\r\n        <style jsx>{`\r\n          .modal {\r\n            position: fixed;\r\n            background: black;\r\n            top: 0;\r\n            left: 0;\r\n            right: 0;\r\n            bottom: 0;\r\n            z-index: 9999;\r\n          }\r\n        `}</style>\r\n      </Layout>\r\n    );\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}