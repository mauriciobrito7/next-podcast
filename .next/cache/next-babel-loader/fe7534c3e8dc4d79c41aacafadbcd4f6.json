{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _JSXStyle from \"styled-jsx/style\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport \"isomorphic-fetch\"; // components\n\nimport Layout from \"../components/Layout\";\nimport PodcastList from \"../components/PodcastList\";\nimport PodcastPlayer from \"../components/PodcastPlayer\";\n\nvar _default = /*#__PURE__*/function (_React$Component) {\n  _inherits(_default, _React$Component);\n\n  function _default(props) {\n    var _this;\n\n    _classCallCheck(this, _default);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(_default).call(this, props));\n\n    _defineProperty(_assertThisInitialized(_this), \"openPodcast\", function (event, podcast) {\n      event.preventDefault();\n\n      _this.setState({\n        openPodcast: podcast\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"closePodcast\", function (event) {\n      event.preventDefault();\n\n      _this.setState({\n        openPodcast: null\n      });\n    });\n\n    _this.setState({\n      penPodcast: null\n    });\n\n    return _this;\n  }\n\n  _createClass(_default, [{\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n          channel = _this$props.channel,\n          audioClips = _this$props.audioClips,\n          series = _this$props.series;\n      var openPodcast = this.state;\n      return __jsx(Layout, {\n        title: channel.title\n      }, openPodcast && __jsx(\"div\", {\n        className: \"jsx-237087853\" + \" \" + \"modal\"\n      }, __jsx(PodcastPlayer, {\n        clip: openPodcast,\n        onClose: this.closePodcast\n      })), __jsx(\"h1\", {\n        className: \"jsx-237087853\"\n      }, channel.title), __jsx(\"h2\", {\n        className: \"jsx-237087853\"\n      }, \"Ultimos Podcasts\"), __jsx(PodcastList, {\n        podcasts: audioClips,\n        onclickPodcast: this.openPodcast\n      }), __jsx(\"h2\", {\n        className: \"jsx-237087853\"\n      }, \"Series\"), series.map(function (serie) {\n        return __jsx(\"div\", {\n          className: \"jsx-237087853\" + \" \" + \"series\"\n        }, serie.title);\n      }), __jsx(_JSXStyle, {\n        id: \"237087853\"\n      }, \".modal.jsx-237087853{position:fixed;background:black;top:0;left:0;right:0;bottom:0;z-index:9999;}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcTWF1cmljaW9cXERvY3VtZW50c1xcR2l0aHViXFxteUZpcnN0TmV4dEFwcFxccGFnZXNcXGNoYW5uZWwuanN4Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQWlFb0IsQUFHNEIsZUFDRSxpQkFDWCxNQUNDLE9BQ0MsUUFDQyxTQUNJLGFBQ2YiLCJmaWxlIjoiQzpcXFVzZXJzXFxNYXVyaWNpb1xcRG9jdW1lbnRzXFxHaXRodWJcXG15Rmlyc3ROZXh0QXBwXFxwYWdlc1xcY2hhbm5lbC5qc3giLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgXCJpc29tb3JwaGljLWZldGNoXCI7XHJcbi8vIGNvbXBvbmVudHNcclxuaW1wb3J0IExheW91dCBmcm9tIFwiLi4vY29tcG9uZW50cy9MYXlvdXRcIjtcclxuaW1wb3J0IFBvZGNhc3RMaXN0IGZyb20gXCIuLi9jb21wb25lbnRzL1BvZGNhc3RMaXN0XCI7XHJcbmltcG9ydCBQb2RjYXN0UGxheWVyIGZyb20gXCIuLi9jb21wb25lbnRzL1BvZGNhc3RQbGF5ZXJcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcclxuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xyXG4gICAgc3VwZXIocHJvcHMpO1xyXG4gICAgdGhpcy5zZXRTdGF0ZSh7IHBlblBvZGNhc3Q6IG51bGwgfSk7XHJcbiAgfVxyXG5cclxuICBzdGF0aWMgYXN5bmMgZ2V0SW5pdGlhbFByb3BzKHsgcXVlcnk6IHsgaWQgfSB9KSB7XHJcbiAgICAvLyBydW4gaW4gcGFyYWxsZWxcclxuICAgIGxldCBbcmVxQ2hhbm5lbCwgcmVxU2VyaWVzLCByZXFBdWRpb3NdID0gYXdhaXQgUHJvbWlzZS5hbGwoW1xyXG4gICAgICBmZXRjaChgaHR0cHM6Ly9hcGkuYXVkaW9ib29tLmNvbS9jaGFubmVscy8ke2lkfWApLFxyXG4gICAgICBmZXRjaChgaHR0cHM6Ly9hcGkuYXVkaW9ib29tLmNvbS9jaGFubmVscy8ke2lkfS9jaGlsZF9jaGFubmVsc2ApLFxyXG4gICAgICBmZXRjaChgaHR0cHM6Ly9hcGkuYXVkaW9ib29tLmNvbS9jaGFubmVscy8ke2lkfS9hdWRpb19jbGlwc2ApXHJcbiAgICBdKTtcclxuICAgIGxldCBkYXRhQ2hhbm5lbCA9IGF3YWl0IHJlcUNoYW5uZWwuanNvbigpO1xyXG4gICAgbGV0IGNoYW5uZWwgPSBkYXRhQ2hhbm5lbC5ib2R5LmNoYW5uZWw7XHJcblxyXG4gICAgbGV0IGRhdGFBdWRpb3MgPSBhd2FpdCByZXFBdWRpb3MuanNvbigpO1xyXG4gICAgbGV0IGF1ZGlvQ2xpcHMgPSBkYXRhQXVkaW9zLmJvZHkuYXVkaW9fY2xpcHM7XHJcblxyXG4gICAgbGV0IGRhdGFTZXJpZXMgPSBhd2FpdCByZXFTZXJpZXMuanNvbigpO1xyXG4gICAgbGV0IHNlcmllcyA9IGRhdGFTZXJpZXMuYm9keS5jaGFubmVscztcclxuXHJcbiAgICByZXR1cm4geyBjaGFubmVsLCBhdWRpb0NsaXBzLCBzZXJpZXMgfTtcclxuICB9XHJcblxyXG4gIG9wZW5Qb2RjYXN0ID0gKGV2ZW50LCBwb2RjYXN0KSA9PiB7XHJcbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgIG9wZW5Qb2RjYXN0OiBwb2RjYXN0XHJcbiAgICB9KTtcclxuICB9O1xyXG5cclxuICBjbG9zZVBvZGNhc3QgPSBldmVudCA9PiB7XHJcbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgIG9wZW5Qb2RjYXN0OiBudWxsXHJcbiAgICB9KTtcclxuICB9O1xyXG5cclxuICByZW5kZXIoKSB7XHJcbiAgICBjb25zdCB7IGNoYW5uZWwsIGF1ZGlvQ2xpcHMsIHNlcmllcyB9ID0gdGhpcy5wcm9wcztcclxuICAgIGNvbnN0IG9wZW5Qb2RjYXN0ID0gdGhpcy5zdGF0ZTtcclxuICAgIHJldHVybiAoXHJcbiAgICAgIDxMYXlvdXQgdGl0bGU9e2NoYW5uZWwudGl0bGV9PlxyXG4gICAgICAgIHtvcGVuUG9kY2FzdCAmJiAoXHJcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsXCI+XHJcbiAgICAgICAgICAgIDxQb2RjYXN0UGxheWVyIGNsaXA9e29wZW5Qb2RjYXN0fSBvbkNsb3NlPXt0aGlzLmNsb3NlUG9kY2FzdH0gLz5cclxuICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICl9XHJcblxyXG4gICAgICAgIDxoMT57Y2hhbm5lbC50aXRsZX08L2gxPlxyXG5cclxuICAgICAgICA8aDI+VWx0aW1vcyBQb2RjYXN0czwvaDI+XHJcbiAgICAgICAgPFBvZGNhc3RMaXN0IHBvZGNhc3RzPXthdWRpb0NsaXBzfSBvbmNsaWNrUG9kY2FzdD17dGhpcy5vcGVuUG9kY2FzdH0gLz5cclxuXHJcbiAgICAgICAgPGgyPlNlcmllczwvaDI+XHJcbiAgICAgICAge3Nlcmllcy5tYXAoc2VyaWUgPT4gKFxyXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzZXJpZXNcIj57c2VyaWUudGl0bGV9PC9kaXY+XHJcbiAgICAgICAgKSl9XHJcbiAgICAgICAgPHN0eWxlIGpzeD57YFxyXG4gICAgICAgICAgLm1vZGFsIHtcclxuICAgICAgICAgICAgcG9zaXRpb246IGZpeGVkO1xyXG4gICAgICAgICAgICBiYWNrZ3JvdW5kOiBibGFjaztcclxuICAgICAgICAgICAgdG9wOiAwO1xyXG4gICAgICAgICAgICBsZWZ0OiAwO1xyXG4gICAgICAgICAgICByaWdodDogMDtcclxuICAgICAgICAgICAgYm90dG9tOiAwO1xyXG4gICAgICAgICAgICB6LWluZGV4OiA5OTk5O1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIGB9PC9zdHlsZT5cclxuICAgICAgPC9MYXlvdXQ+XHJcbiAgICApO1xyXG4gIH1cclxufVxyXG4iXX0= */\\n/*@ sourceURL=C:\\\\\\\\Users\\\\\\\\Mauricio\\\\\\\\Documents\\\\\\\\Github\\\\\\\\myFirstNextApp\\\\\\\\pages\\\\\\\\channel.jsx */\"));\n    }\n  }], [{\n    key: \"getInitialProps\",\n    value: function getInitialProps(_ref) {\n      var id, _ref2, _ref3, reqChannel, reqSeries, reqAudios, dataChannel, channel, dataAudios, audioClips, dataSeries, series;\n\n      return _regeneratorRuntime.async(function getInitialProps$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              id = _ref.query.id;\n              _context.next = 3;\n              return _regeneratorRuntime.awrap(Promise.all([fetch(\"https://api.audioboom.com/channels/\".concat(id)), fetch(\"https://api.audioboom.com/channels/\".concat(id, \"/child_channels\")), fetch(\"https://api.audioboom.com/channels/\".concat(id, \"/audio_clips\"))]));\n\n            case 3:\n              _ref2 = _context.sent;\n              _ref3 = _slicedToArray(_ref2, 3);\n              reqChannel = _ref3[0];\n              reqSeries = _ref3[1];\n              reqAudios = _ref3[2];\n              _context.next = 10;\n              return _regeneratorRuntime.awrap(reqChannel.json());\n\n            case 10:\n              dataChannel = _context.sent;\n              channel = dataChannel.body.channel;\n              _context.next = 14;\n              return _regeneratorRuntime.awrap(reqAudios.json());\n\n            case 14:\n              dataAudios = _context.sent;\n              audioClips = dataAudios.body.audio_clips;\n              _context.next = 18;\n              return _regeneratorRuntime.awrap(reqSeries.json());\n\n            case 18:\n              dataSeries = _context.sent;\n              series = dataSeries.body.channels;\n              return _context.abrupt(\"return\", {\n                channel: channel,\n                audioClips: audioClips,\n                series: series\n              });\n\n            case 21:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, null, null, null, Promise);\n    }\n  }]);\n\n  return _default;\n}(React.Component);\n\nexport { _default as default };","map":{"version":3,"sources":["C:/Users/Mauricio/Documents/Github/myFirstNextApp/pages/channel.jsx"],"names":["Layout","PodcastList","PodcastPlayer","props","event","podcast","preventDefault","setState","openPodcast","penPodcast","channel","audioClips","series","state","title","closePodcast","map","serie","id","query","Promise","all","fetch","reqChannel","reqSeries","reqAudios","json","dataChannel","body","dataAudios","audio_clips","dataSeries","channels","React","Component"],"mappings":";;;;;;;;;;;;AAAA,OAAO,kBAAP,C,CACA;;AACA,OAAOA,MAAP,MAAmB,sBAAnB;AACA,OAAOC,WAAP,MAAwB,2BAAxB;AACA,OAAOC,aAAP,MAA0B,6BAA1B;;;;;AAGE,oBAAYC,KAAZ,EAAmB;AAAA;;AAAA;;AACjB,kFAAMA,KAAN;;AADiB,kEAwBL,UAACC,KAAD,EAAQC,OAAR,EAAoB;AAChCD,MAAAA,KAAK,CAACE,cAAN;;AACA,YAAKC,QAAL,CAAc;AACZC,QAAAA,WAAW,EAAEH;AADD,OAAd;AAGD,KA7BkB;;AAAA,mEA+BJ,UAAAD,KAAK,EAAI;AACtBA,MAAAA,KAAK,CAACE,cAAN;;AACA,YAAKC,QAAL,CAAc;AACZC,QAAAA,WAAW,EAAE;AADD,OAAd;AAGD,KApCkB;;AAEjB,UAAKD,QAAL,CAAc;AAAEE,MAAAA,UAAU,EAAE;AAAd,KAAd;;AAFiB;AAGlB;;;;6BAmCQ;AAAA,wBACiC,KAAKN,KADtC;AAAA,UACCO,OADD,eACCA,OADD;AAAA,UACUC,UADV,eACUA,UADV;AAAA,UACsBC,MADtB,eACsBA,MADtB;AAEP,UAAMJ,WAAW,GAAG,KAAKK,KAAzB;AACA,aACE,MAAC,MAAD;AAAQ,QAAA,KAAK,EAAEH,OAAO,CAACI;AAAvB,SACGN,WAAW,IACV;AAAA,2CAAe;AAAf,SACE,MAAC,aAAD;AAAe,QAAA,IAAI,EAAEA,WAArB;AAAkC,QAAA,OAAO,EAAE,KAAKO;AAAhD,QADF,CAFJ,EAOE;AAAA;AAAA,SAAKL,OAAO,CAACI,KAAb,CAPF,EASE;AAAA;AAAA,4BATF,EAUE,MAAC,WAAD;AAAa,QAAA,QAAQ,EAAEH,UAAvB;AAAmC,QAAA,cAAc,EAAE,KAAKH;AAAxD,QAVF,EAYE;AAAA;AAAA,kBAZF,EAaGI,MAAM,CAACI,GAAP,CAAW,UAAAC,KAAK;AAAA,eACf;AAAA,6CAAe;AAAf,WAAyBA,KAAK,CAACH,KAA/B,CADe;AAAA,OAAhB,CAbH;AAAA;AAAA,8tHADF;AA8BD;;;;;;;;;;AAlEuCI,cAAAA,E,QAATC,K,CAASD,E;;+CAESE,OAAO,CAACC,GAAR,CAAY,CACzDC,KAAK,8CAAuCJ,EAAvC,EADoD,EAEzDI,KAAK,8CAAuCJ,EAAvC,qBAFoD,EAGzDI,KAAK,8CAAuCJ,EAAvC,kBAHoD,CAAZ,C;;;;;AAA1CK,cAAAA,U;AAAYC,cAAAA,S;AAAWC,cAAAA,S;;+CAKJF,UAAU,CAACG,IAAX,E;;;AAApBC,cAAAA,W;AACAjB,cAAAA,O,GAAUiB,WAAW,CAACC,IAAZ,CAAiBlB,O;;+CAERe,SAAS,CAACC,IAAV,E;;;AAAnBG,cAAAA,U;AACAlB,cAAAA,U,GAAakB,UAAU,CAACD,IAAX,CAAgBE,W;;+CAEVN,SAAS,CAACE,IAAV,E;;;AAAnBK,cAAAA,U;AACAnB,cAAAA,M,GAASmB,UAAU,CAACH,IAAX,CAAgBI,Q;+CAEtB;AAAEtB,gBAAAA,OAAO,EAAPA,OAAF;AAAWC,gBAAAA,UAAU,EAAVA,UAAX;AAAuBC,gBAAAA,MAAM,EAANA;AAAvB,e;;;;;;;;;;;;EAtBkBqB,KAAK,CAACC,S","sourcesContent":["import \"isomorphic-fetch\";\r\n// components\r\nimport Layout from \"../components/Layout\";\r\nimport PodcastList from \"../components/PodcastList\";\r\nimport PodcastPlayer from \"../components/PodcastPlayer\";\r\n\r\nexport default class extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.setState({ penPodcast: null });\r\n  }\r\n\r\n  static async getInitialProps({ query: { id } }) {\r\n    // run in parallel\r\n    let [reqChannel, reqSeries, reqAudios] = await Promise.all([\r\n      fetch(`https://api.audioboom.com/channels/${id}`),\r\n      fetch(`https://api.audioboom.com/channels/${id}/child_channels`),\r\n      fetch(`https://api.audioboom.com/channels/${id}/audio_clips`)\r\n    ]);\r\n    let dataChannel = await reqChannel.json();\r\n    let channel = dataChannel.body.channel;\r\n\r\n    let dataAudios = await reqAudios.json();\r\n    let audioClips = dataAudios.body.audio_clips;\r\n\r\n    let dataSeries = await reqSeries.json();\r\n    let series = dataSeries.body.channels;\r\n\r\n    return { channel, audioClips, series };\r\n  }\r\n\r\n  openPodcast = (event, podcast) => {\r\n    event.preventDefault();\r\n    this.setState({\r\n      openPodcast: podcast\r\n    });\r\n  };\r\n\r\n  closePodcast = event => {\r\n    event.preventDefault();\r\n    this.setState({\r\n      openPodcast: null\r\n    });\r\n  };\r\n\r\n  render() {\r\n    const { channel, audioClips, series } = this.props;\r\n    const openPodcast = this.state;\r\n    return (\r\n      <Layout title={channel.title}>\r\n        {openPodcast && (\r\n          <div className=\"modal\">\r\n            <PodcastPlayer clip={openPodcast} onClose={this.closePodcast} />\r\n          </div>\r\n        )}\r\n\r\n        <h1>{channel.title}</h1>\r\n\r\n        <h2>Ultimos Podcasts</h2>\r\n        <PodcastList podcasts={audioClips} onclickPodcast={this.openPodcast} />\r\n\r\n        <h2>Series</h2>\r\n        {series.map(serie => (\r\n          <div className=\"series\">{serie.title}</div>\r\n        ))}\r\n        <style jsx>{`\r\n          .modal {\r\n            position: fixed;\r\n            background: black;\r\n            top: 0;\r\n            left: 0;\r\n            right: 0;\r\n            bottom: 0;\r\n            z-index: 9999;\r\n          }\r\n        `}</style>\r\n      </Layout>\r\n    );\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}